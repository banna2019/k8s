apiVersion: kubeproxy.config.k8s.io/v1alpha1
kind: KubeProxyConfiguration
hostnameOverride: {{ ansible_hostname }}
bindAddress: {{ ansible_default_ipv4.address }}
clusterCIDR: {{ cluster_cidr }}
clientConnection:
  burst: 200
  kubeconfig: {{ config_dir }}/{{ proxy_kubeconfig }}
  qps: 100
configSyncPeriod: 15m
conntrack:
  maxPerCore: 32768
  min: 131072
  TcpTimeoutCloseWait: 1h
  TcpTimeoutEstablished: 24h 
healthzBindAddress: {{ ansible_default_ipv4.address }}:{{ healthz_port }}
metricsBindAddress: {{ ansible_default_ipv4.address }}:{{ metrics_port }}
metricsPort: {{ metrics_port }}
mode: {{ proxy_mode }}
ipvsSyncPeriod: 30s
kubeApiBurst: 10
kubeApiQps: 5
udpTimeout: 250ms
